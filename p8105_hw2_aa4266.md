P8105 HW2
================
Abhishek Ajay (aa4266)
October 1, 2018

Problem 1
=========

Data import and manipulation
----------------------------

``` r
nyc_transit_data = 
  read_csv("./datasets/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>%
  janitor::clean_names() %>%
  select(line:entry, vending, ada) %>%
  mutate(entry = recode(entry, "YES" = TRUE, "NO" = FALSE))
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_integer(),
    ##   Route9 = col_integer(),
    ##   Route10 = col_integer(),
    ##   Route11 = col_integer(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

Further Questions
-----------------

### Question 1

How many distinct stations are there?

``` r
#count(distinct(nyc_transit_data, line, station_name))
distinct(nyc_transit_data, line, station_name) %>%
  count()
```

    ## # A tibble: 1 x 1
    ##       n
    ##   <int>
    ## 1   465

### Question 2

How many stations are ADA compliant?

``` r
nyc_transit_data %>%
  filter(ada == TRUE) %>%
  distinct(line, station_name) %>%
  count()
```

    ## # A tibble: 1 x 1
    ##       n
    ##   <int>
    ## 1    84

### Question 3

What proportion of station entrances / exits without vending allow entrance?

``` r
n_stations_without_vending =
  nyc_transit_data %>%
  filter(vending == "NO", entry == TRUE) %>%
  count()/nrow(nyc_transit_data[which(nyc_transit_data$vending == "NO"),])
```

Reformating of the data
-----------------------

Here we reformat the data such the route number and the route name are distinct variables.

``` r
nyc_transit_data_reformatting =
  nyc_transit_data %>%
  gather(key = route_number, value = route_name, route1:route11) %>%
  separate(route_number, into = c("route_str", "route_number"), sep = 5) %>%
  select(-route_str)
  #filter(distinct(route_number, route_name))
```

Further questions on the reformatted table
------------------------------------------

### Question 1

How many distinct stations serve the A train?

``` r
nyc_transit_data_reformatting %>%
  filter(route_name == "A") %>%
  distinct(line, station_name) %>%
  count() %>%
  knitr::kable()
```

|    n|
|----:|
|   60|

### Question 2

Of the stations that serve the A train, how many are ADA compliant?

``` r
nyc_transit_data_reformatting %>%
  filter(route_name == "A", ada == TRUE) %>%
  distinct(line, station_name) %>%
  count() %>%
  knitr::kable()
```

|    n|
|----:|
|   17|
